<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω—è | –ú–µ—Ç–æ–¥ –ì–ª–µ–±–∞ –ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–æ–≥–æ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –ò–Ω—Ç–µ—Ä —à—Ä–∏—Ñ—Ç -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        /* === –®–†–ò–§–¢–´ –ò –ë–ê–ó–ê === */
        * { font-family: 'Inter', sans-serif; box-sizing: border-box; }

        /* === –°–¢–ò–õ–ò –ò–ù–¢–ï–†–§–ï–ô–°–ê (–î–õ–Ø –≠–ö–†–ê–ù–ê) === */
        .time-slot:hover { background-color: #f0f9f0 !important; }
        .meeting-block {
            position: absolute; left: 70px; right: 5px; z-index: 10;
            border-radius: 3px; padding: 3px 5px; overflow: hidden;
            white-space: nowrap; text-overflow: ellipsis; cursor: pointer;
            font-size: 12px;
        }
        .meeting-block:hover { z-index: 20; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .meeting-completed { background-color: #d1fae5 !important; text-decoration: line-through; opacity: 0.8; }
        .completed-task { text-decoration: line-through; color: #9ca3af !important; }
        .draggable { cursor: move; }
        .timeline-container { position: relative; height: 840px; }
        .hour-slot { height: 60px; border-bottom: 1px solid #e5e7eb; position: relative; }
        .progress-bar { height: 8px; border-radius: 4px; overflow: hidden; background-color: #e5e7eb; }
        .progress-fill { height: 100%; background-color: #10b981; transition: width 0.3s ease; }

        /* === –°–¢–ò–õ–ò –î–õ–Ø PDF (–°–¢–†–û–ì–ê–Ø –ò–ó–û–õ–Ø–¶–ò–Ø) === */
        #printContainer {
            /* –ñ–ï–°–¢–ö–ê–Ø –§–ò–ö–°–ê–¶–ò–Ø –†–ê–ó–ú–ï–†–û–í */
            width: 700px !important;  /* –ß—É—Ç—å –º–µ–Ω—å—à–µ –ê4 (794px), —á—Ç–æ–±—ã –±—ã–ª–∏ –ø–æ–ª—è */
            margin: 0 auto !important; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º */
            padding: 20px !important;
            background-color: #ffffff !important;
            color: #000000 !important;
            position: absolute;
            top: 0;
            left: -9999px; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            z-index: 9999;
        }

        /* –°–ë–†–û–° –í–°–ï–• –°–¢–ò–õ–ï–ô –í–ù–£–¢–†–ò PDF */
        #printContainer * {
            max-width: 100% !important;     /* –ù–µ –≤—ã–ª–µ–∑–∞—Ç—å –∑–∞ —Ä–æ–¥–∏—Ç–µ–ª—è */
            white-space: pre-wrap !important; /* –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ + –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –¥–ª–∏–Ω–Ω–æ–µ */
            word-wrap: break-word !important; /* –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –¥–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ */
            overflow-wrap: break-word !important;
            font-size: 11px !important;     /* –ú–µ–ª–∫–∏–π –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            line-height: 1.4 !important;
            color: #000 !important;
        }

        /* –ó–ê–ì–û–õ–û–í–ö–ò */
        #printContainer h1 { font-size: 18px !important; font-weight: bold; text-align: center; margin-bottom: 10px; }
        #printContainer .date { text-align: center; margin-bottom: 20px; font-size: 14px !important; }
        #printContainer .section-title { 
            font-size: 14px !important; font-weight: bold; 
            border-bottom: 2px solid #000; margin-bottom: 10px; margin-top: 15px;
            padding-bottom: 5px; text-transform: uppercase;
        }

        /* –°–ï–¢–ö–ò (Grid –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ Flex –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –≤ PDF) */
        #printContainer .strategy-grid { display: flex !important; gap: 10px; }
        #printContainer .strategy-block { 
            flex: 1; 
            border: 1px solid #000; 
            padding: 10px; 
            min-height: 100px;
        }
        
        #printContainer .timeline-grid { display: flex !important; gap: 15px; }
        #printContainer .timeline-col { 
            flex: 1; 
            border: 1px solid #000; 
            padding: 10px; 
            min-height: 300px; 
        }

        /* –≠–õ–ï–ú–ï–ù–¢–´ –°–ü–ò–°–ö–û–í */
        #printContainer .meeting-item, 
        #printContainer .task-item {
            border-bottom: 1px dotted #ccc;
            padding: 4px 0;
            display: block !important; /* –ë–ª–æ—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç */
        }
        #printContainer .meeting-time { font-weight: bold; margin-right: 5px; display: inline-block; }

        #printContainer .notes-block { border: 1px solid #000; padding: 10px; min-height: 80px; }
        #printContainer .progress-text { text-align: center; margin-top: 10px; font-style: italic; }

        /* –°–ö–†–´–¢–ò–ï –õ–ò–®–ù–ï–ì–û –ü–†–ò –û–ë–´–ß–ù–û–ô –ü–ï–ß–ê–¢–ò */
        @media print {
            body * { visibility: hidden; }
            #printContainer, #printContainer * { visibility: visible; }
            #printContainer { position: absolute; left: 0; top: 0; width: 100%; margin: 0; }
        }
        #printContainer * {
           
            page-break-inside: avoid !important;
            page-break-after: always !important;
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
            orphans: 3 !important;
            widows: 3 !important;
            overflow: hidden !important;
            box-sizing: border-box !important;
            page-break-before: always !important;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏—è */
        #printContainer .strategy-grid,
        #printContainer .timeline-grid {
            display: flex !important;
            flex-wrap: wrap !important;
            width: 100% !important;
            gap: 10px !important;
        }

        #printContainer .strategy-block,
        #printContainer .timeline-col {
            flex: 0 0 calc(33.333% - 7px) !important; /* –î–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ - 3 –∫–æ–ª–æ–Ω–∫–∏ */
            max-width: calc(33.333% - 7px) !important;
            box-sizing: border-box !important;
            overflow: hidden !important;
        }

        /* –î–ª—è —Ç–∞–π–º–ª–∞–π–Ω–∞ - 2 –∫–æ–ª–æ–Ω–∫–∏ */
        #printContainer .timeline-col {
            flex: 0 0 calc(50% - 7.5px) !important;
            max-width: calc(50% - 7.5px) !important;
        }

        /* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ */
        #printContainer .meeting-item,
        #printContainer .task-item,
        #printContainer .strategy-content,
        #printContainer .notes-content {
            white-space: normal !important;
            word-wrap: break-word !important;
            word-break: break-word !important;
            overflow-wrap: break-word !important;
            max-width: 100% !important;
        }

        /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É —Ç–µ–∫—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–æ–≤ */
        #printContainer .strategy-content,
        #printContainer .notes-content {
            max-width: 100% !important;
            width: 100% !important;
        }
        /* –§–∏–∫—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ */
        @media print {
            #printContainer {
                position: absolute !important;
                left: 0 !important;
                top: 0 !important;
                width: 700px !important;
                margin: 0 auto !important;
                padding: 20px !important;
                background-color: #ffffff !important;
                color: #000000 !important;
                opacity: 1 !important;
                visibility: visible !important;
                z-index: 9999 !important;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen p-4">
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —ç–∫—Ä–∞–Ω–∞ -->
    <div class="max-w-6xl mx-auto">
        <!-- –•–µ–¥–µ—Ä (—Ç–æ–ª—å–∫–æ –¥–ª—è —ç–∫—Ä–∞–Ω–∞) -->
        <header class="mb-8 p-6 bg-white rounded-xl shadow-sm border border-gray-200 no-print">
            <div class="flex flex-col md:flex-row md:items-center justify-between mb-6">
                <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4 md:mb-0">
                    –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω—è | –ú–µ—Ç–æ–¥ –ì–ª–µ–±–∞ –ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–æ–≥–æ
                </h1>
                
                <div class="flex items-center space-x-4">
                    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º -->
                    <div class="flex items-center bg-gray-100 rounded-lg p-2">
                        <button id="prevDay" class="p-2 text-gray-600 hover:text-green-600 hover:bg-gray-200 rounded">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        
                        <input id="datePicker" type="date" class="bg-transparent px-3 py-2 text-gray-700 font-medium mx-2">
                        
                        <button id="nextDay" class="p-2 text-gray-600 hover:text-green-600 hover:bg-gray-200 rounded">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <!-- –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞ -->
                    <div class="text-lg font-semibold text-green-700" id="currentDate"></div>
                </div>
            </div>
            
            <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="flex flex-wrap gap-3">
                <button id="saveBtn" class="px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path>
                    </svg>
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                
                <button id="docxBtn" class="px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    DOCX
                </button>
                
                <button id="clearBtn" class="px-4 py-2 bg-yellow-500 text-white font-medium rounded-lg hover:bg-yellow-600 transition flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                    </svg>
                    –û—á–∏—Å—Ç–∏—Ç—å
                </button>
                
                <button id="archiveBtn" class="px-4 py-2 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>
                    </svg>
                    –ê—Ä—Ö–∏–≤
                </button>
            </div>
            
            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è -->
            <div class="mt-4 p-3 bg-gray-100 rounded-lg">
                <div class="flex justify-between items-center mb-2">
                    <span class="font-medium text-gray-700">–ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</span>
                    <span id="progressPercent" class="font-bold text-green-700">0%</span>
                </div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                </div>
                <div class="text-sm text-gray-600 mt-1" id="progressText">–í—ã–ø–æ–ª–Ω–µ–Ω–æ 0 –∏–∑ 0 –∑–∞–¥–∞—á</div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è —ç–∫—Ä–∞–Ω–∞ -->
        <main class="no-print">
            <!-- –ë–ª–æ–∫ "–°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–Ω—è" -->
            <section class="mb-6">
                <h2 class="text-xl font-bold text-gray-700 mb-3">–°–¢–†–ê–¢–ï–ì–ò–Ø –î–ù–Ø</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- –î–µ–ª–æ –¥–Ω—è -->
                    <div class="bg-white p-4 rounded-xl border-2 border-green-200 shadow-sm">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center">
                                <div class="text-2xl mr-3">üéØ</div>
                                <h3 class="text-lg font-semibold text-gray-800">–î–µ–ª–æ –¥–Ω—è</h3>
                            </div>
                            <label class="flex items-center space-x-2 cursor-pointer">
                                <span class="text-sm text-gray-600">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                                <input type="checkbox" id="mainTaskCompleted" class="h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500">
                            </label>
                        </div>
                        <textarea 
                            id="mainTask" 
                            class="w-full h-24 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none" 
                            placeholder="–í–∞–∂–Ω–µ–π—à–∞—è –∑–∞–¥–∞—á–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è..."></textarea>
                    </div>
                    
                    <!-- –õ—è–≥—É—à–∫–∞ -->
                    <div class="bg-white p-4 rounded-xl border-2 border-green-200 shadow-sm">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center">
                                <div class="text-2xl mr-3">üê∏</div>
                                <h3 class="text-lg font-semibold text-gray-800">–õ—è–≥—É—à–∫–∞</h3>
                            </div>
                            <label class="flex items-center space-x-2 cursor-pointer">
                                <span class="text-sm text-gray-600">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                                <input type="checkbox" id="frogTaskCompleted" class="h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500">
                            </label>
                        </div>
                        <textarea 
                            id="frogTask" 
                            class="w-full h-24 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none" 
                            placeholder="–ù–µ–ø—Ä–∏—è—Ç–Ω–æ–µ, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–µ–ª–æ..."></textarea>
                    </div>
                    
                    <!-- –°–ª–æ–Ω -->
                    <div class="bg-white p-4 rounded-xl border-2 border-green-200 shadow-sm">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center">
                                <div class="text-2xl mr-3">üêò</div>
                                <h3 class="text-lg font-semibold text-gray-800">–°–ª–æ–Ω</h3>
                            </div>
                            <label class="flex items-center space-x-2 cursor-pointer">
                                <span class="text-sm text-gray-600">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                                <input type="checkbox" id="elephantTaskCompleted" class="h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500">
                            </label>
                        </div>
                        <textarea 
                            id="elephantTask" 
                            class="w-full h-24 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none" 
                            placeholder="–ß–∞—Å—Ç—å –±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞..."></textarea>
                    </div>
                </div>
            </section>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–π–º–ª–∞–π–Ω –≤ –¥–≤–µ –∫–æ–ª–æ–Ω–∫–∏ -->
            <section class="mb-6">
                <h2 class="text-xl font-bold text-gray-700 mb-3">–¢–ê–ô–ú–õ–ê–ô–ù –î–ù–Ø</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- –ö–æ–ª–æ–Ω–∫–∞ 1: –ñ–µ—Å—Ç–∫–∏–µ –≤—Å—Ç—Ä–µ—á–∏ -->
                    <div class="bg-white rounded-xl border border-gray-300 shadow-sm overflow-hidden">
                        <div class="bg-green-50 p-3 border-b border-gray-300">
                            <h3 class="text-lg font-bold text-gray-800 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                –ñ–ï–°–¢–ö–ò–ï –í–°–¢–†–ï–ß–ò (07:00 - 21:00)
                            </h3>
                        </div>
                        
                        <div class="p-3">
                            <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á–∏ -->
                            <button id="addMeetingBtn" class="mb-3 px-3 py-2 bg-green-100 text-green-700 font-medium rounded-lg hover:bg-green-200 transition flex items-center">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                </svg>
                                –î–æ–±–∞–≤–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É
                            </button>
                            
                            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–∞–π–º–ª–∞–π–Ω–∞ -->
                            <div class="timeline-container border border-gray-200 rounded-lg relative">
                                <!-- –°–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ -->
                                <div id="timeGrid" class="relative">
                                    <!-- –ß–∞—Å–æ–≤—ã–µ —Å–ª–æ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                                </div>
                                
                                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å—Ç—Ä–µ—á -->
                                <div id="meetingsContainer" class="absolute top-0 left-0 right-0 h-full">
                                    <!-- –í—Å—Ç—Ä–µ—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ö–æ–ª–æ–Ω–∫–∞ 2: –ì–∏–±–∫–∏–µ –∑–∞–¥–∞—á–∏ -->
                    <div class="bg-white rounded-xl border border-gray-300 shadow-sm overflow-hidden">
                        <div class="bg-green-50 p-3 border-b border-gray-300">
                            <h3 class="text-lg font-bold text-gray-800 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                                </svg>
                                –ì–ò–ë–ö–ò–ï –ó–ê–î–ê–ß–ò
                            </h3>
                        </div>
                        
                        <div class="p-3">
                            <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
                            <div class="flex mb-3">
                                <input 
                                    id="newTaskInput" 
                                    type="text" 
                                    class="flex-grow p-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" 
                                    placeholder="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞...">
                                <button id="addTaskBtn" class="px-4 bg-green-600 text-white font-medium rounded-r-lg hover:bg-green-700 transition">
                                    –î–æ–±–∞–≤–∏—Ç—å
                                </button>
                            </div>
                            
                            <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á -->
                            <div id="tasksContainer" class="space-y-2 max-h-[600px] overflow-y-auto">
                                <!-- –ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –§—É—Ç–µ—Ä: –ó–∞–º–µ—Ç–∫–∏ / –ò—Ç–æ–≥–∏ –¥–Ω—è -->
            <section class="mb-6">
                <div class="bg-white rounded-xl border border-gray-300 shadow-sm overflow-hidden">
                    <div class="bg-green-50 p-3 border-b border-gray-300">
                        <h3 class="text-lg font-bold text-gray-800 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                            –ó–ê–ú–ï–¢–ö–ò / –ò–¢–û–ì–ò –î–ù–Ø
                        </h3>
                    </div>
                    
                    <div class="p-3">
                        <textarea 
                            id="notes" 
                            class="w-full h-32 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none" 
                            placeholder="–ó–∞–º–µ—Ç–∫–∏, –º—ã—Å–ª–∏, –∏—Ç–æ–≥–∏ –¥–Ω—è..."></textarea>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–µ—á–∞—Ç–∏/PDF (—Å–∫—Ä—ã—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ) -->
    <div id="printContainer" class="print-container print-only" style="position: absolute; left: -9999px; top: -9999px;">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –ø–µ—á–∞—Ç–∏ -->
        <div class="date-header">
            <h1>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω—è | –ú–µ—Ç–æ–¥ –ì–ª–µ–±–∞ –ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–æ–≥–æ</h1>
            <div class="date" id="printDate"></div>
        </div>
        
        <!-- –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–Ω—è –¥–ª—è –ø–µ—á–∞—Ç–∏ -->
        <div class="strategy-section">
            <div class="section-title">–°–¢–†–ê–¢–ï–ì–ò–Ø –î–ù–Ø</div>
            <div class="strategy-grid">
                <!-- –î–µ–ª–æ –¥–Ω—è -->
                <div class="strategy-block">
                    <div class="strategy-block-title">
                        <span>üéØ –î–ï–õ–û –î–ù–Ø</span>
                        <span id="printMainTaskStatus">[ ]</span>
                    </div>
                    <div class="strategy-content" id="printMainTask"></div>
                </div>
                
                <!-- –õ—è–≥—É—à–∫–∞ -->
                <div class="strategy-block">
                    <div class="strategy-block-title">
                        <span>üê∏ –õ–Ø–ì–£–®–ö–ê</span>
                        <span id="printFrogTaskStatus">[ ]</span>
                    </div>
                    <div class="strategy-content" id="printFrogTask"></div>
                </div>
                
                <!-- –°–ª–æ–Ω -->
                <div class="strategy-block">
                    <div class="strategy-block-title">
                        <span>üêò –°–õ–û–ù</span>
                        <span id="printElephantTaskStatus">[ ]</span>
                    </div>
                    <div class="strategy-content" id="printElephantTask"></div>
                </div>
            </div>
        </div>
        
        <!-- –¢–∞–π–º–ª–∞–π–Ω –¥–ª—è –ø–µ—á–∞—Ç–∏ -->
        <div class="timeline-section">
            <div class="section-title">–¢–ê–ô–ú–õ–ê–ô–ù –î–ù–Ø</div>
            <div class="timeline-grid">
                <!-- –ñ–µ—Å—Ç–∫–∏–µ –≤—Å—Ç—Ä–µ—á–∏ -->
                <div class="timeline-col">
                    <div class="section-title" style="font-size: 11px !important; margin-bottom: 2mm !important;">–ñ–ï–°–¢–ö–ò–ï –í–°–¢–†–ï–ß–ò (07:00-21:00)</div>
                    <div id="printMeetingsList" class="meeting-list">
                        <!-- –°–ø–∏—Å–æ–∫ –≤—Å—Ç—Ä–µ—á –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
                
                <!-- –ì–∏–±–∫–∏–µ –∑–∞–¥–∞—á–∏ -->
                <div class="timeline-col">
                    <div class="section-title" style="font-size: 11px !important; margin-bottom: 2mm !important;">–ì–ò–ë–ö–ò–ï –ó–ê–î–ê–ß–ò</div>
                    <div id="printTasksList" class="tasks-list">
                        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ó–∞–º–µ—Ç–∫–∏ –¥–ª—è –ø–µ—á–∞—Ç–∏ -->
        <div class="notes-section">
            <div class="section-title">–ó–ê–ú–ï–¢–ö–ò / –ò–¢–û–ì–ò –î–ù–Ø</div>
            <div class="notes-block">
                <div class="notes-content" id="printNotes"></div>
            </div>
        </div>
        
        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –ø–µ—á–∞—Ç–∏ -->
        <div class="progress-section">
            <div class="progress-text" id="printProgressText">–í—ã–ø–æ–ª–Ω–µ–Ω–æ 0 –∏–∑ 0 –∑–∞–¥–∞—á (0%)</div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á–∏ -->
    <div id="meetingModal" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 hidden no-print">
        <div class="bg-white rounded-xl shadow-xl w-full max-w-md mx-4">
            <div class="p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">–ù–æ–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-gray-700 mb-2">–ù–∞–∑–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏</label>
                        <input id="meetingTitle" type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="–í—Å—Ç—Ä–µ—á–∞ —Å...">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 mb-2">–ù–∞—á–∞–ª–æ</label>
                            <div class="flex space-x-2">
                                <select id="meetingStartHour" class="w-1/2 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                                    <!-- –ß–∞—Å—ã —Å 7 –¥–æ 21 -->
                                </select>
                                <select id="meetingStartMinute" class="w-1/2 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                                    <option value="0">00</option>
                                    <option value="15">15</option>
                                    <option value="30">30</option>
                                    <option value="45">45</option>
                                </select>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 mb-2">–û–∫–æ–Ω—á–∞–Ω–∏–µ</label>
                            <div class="flex space-x-2">
                                <select id="meetingEndHour" class="w-1/2 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                                    <!-- –ß–∞—Å—ã —Å 7 –¥–æ 22 -->
                                </select>
                                <select id="meetingEndMinute" class="w-1/2 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                                    <option value="0">00</option>
                                    <option value="15">15</option>
                                    <option value="30">30</option>
                                    <option value="45">45</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-sm text-gray-600" id="durationDisplay">
                        –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 1 —á–∞—Å 0 –º–∏–Ω—É—Ç
                    </div>
                    
                    <div class="flex justify-end space-x-3 mt-6">
                        <button id="cancelMeetingBtn" class="px-4 py-2 text-gray-700 bg-gray-100 font-medium rounded-lg hover:bg-gray-200 transition">
                            –û—Ç–º–µ–Ω–∞
                        </button>
                        <button id="saveMeetingBtn" class="px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition">
                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ê—Ä—Ö–∏–≤ –¥–Ω–µ–π -->
    <div id="archiveModal" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 hidden no-print">
        <div class="bg-white rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden">
            <div class="p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">–ê—Ä—Ö–∏–≤ –¥–Ω–µ–π</h3>
                
                <div class="mb-4">
                    <input id="archiveSearch" type="text" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="–ü–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ...">
                </div>
                
                <div id="archiveList" class="overflow-y-auto max-h-[50vh]">
                    <!-- –°–ø–∏—Å–æ–∫ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –¥–Ω–µ–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <div class="flex justify-end mt-6">
                    <button id="closeArchiveBtn" class="px-4 py-2 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 transition">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentDate = new Date();
        let meetings = [];
        let tasks = [];
        let draggingTask = null;
        
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
        let strategyTasks = {
            mainTask: { completed: false },
            frogTask: { completed: false },
            elephantTask: { completed: false }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç—ã
            initDate();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
            initTimeGrid();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –≤—Ä–µ–º–µ–Ω–∏
            initTimeSelects();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ LocalStorage
            loadDayData();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π
            initEventListeners();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—Å—Ç—Ä–µ—á–∏
            initDurationCalculator();
            
            // –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            calculateProgress();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç—ã
        function initDate() {
            const datePicker = document.getElementById('datePicker');
            const currentDateElement = document.getElementById('currentDate');
            const printDateElement = document.getElementById('printDate');
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            const formatDate = (date) => {
                const day = String(date.getDate()).padStart(2, '0');
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const year = date.getFullYear();
                const weekdays = ['–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ', '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', '–í—Ç–æ—Ä–Ω–∏–∫', '–°—Ä–µ–¥–∞', '–ß–µ—Ç–≤–µ—Ä–≥', '–ü—è—Ç–Ω–∏—Ü–∞', '–°—É–±–±–æ—Ç–∞'];
                const weekday = weekdays[date.getDay()];
                
                return `${weekday}, ${day}.${month}.${year}`;
            };
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã
            const updateDate = () => {
                datePicker.valueAsDate = currentDate;
                const formattedDate = formatDate(currentDate);
                currentDateElement.textContent = formattedDate;
                printDateElement.textContent = formattedDate;
            };
            
            updateDate();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–∞–º
            document.getElementById('prevDay').addEventListener('click', () => {
                currentDate.setDate(currentDate.getDate() - 1);
                updateDate();
                loadDayData();
            });
            
            document.getElementById('nextDay').addEventListener('click', () => {
                currentDate.setDate(currentDate.getDate() + 1);
                updateDate();
                loadDayData();
            });
            
            datePicker.addEventListener('change', (e) => {
                currentDate = new Date(e.target.value);
                updateDate();
                loadDayData();
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏
        function initTimeGrid() {
            const timeGrid = document.getElementById('timeGrid');
            timeGrid.innerHTML = '';
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å–æ–≤—ã—Ö —Å–ª–æ—Ç–æ–≤ —Å 7:00 –¥–æ 21:00
            for (let hour = 7; hour <= 21; hour++) {
                const timeSlot = document.createElement('div');
                timeSlot.className = 'hour-slot flex items-start border-b border-gray-200 time-slot';
                
                // –í—Ä–µ–º—è
                const timeLabel = document.createElement('div');
                timeLabel.className = 'w-16 text-center pt-2 text-sm font-medium text-gray-600 bg-gray-50';
                timeLabel.textContent = `${hour.toString().padStart(2, '0')}:00`;
                
                timeSlot.appendChild(timeLabel);
                timeGrid.appendChild(timeSlot);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –≤—Ä–µ–º–µ–Ω–∏
        function initTimeSelects() {
            const startHourSelect = document.getElementById('meetingStartHour');
            const endHourSelect = document.getElementById('meetingEndHour');
            
            // –û—á–∏—Å—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ–ø—Ü–∏–π
            startHourSelect.innerHTML = '';
            endHourSelect.innerHTML = '';
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Å–æ–≤ —Å 7:00 –¥–æ 21:00 –¥–ª—è –Ω–∞—á–∞–ª–∞
            for (let hour = 7; hour <= 21; hour++) {
                const timeString = `${hour.toString().padStart(2, '0')}:00`;
                const option = document.createElement('option');
                option.value = hour;
                option.textContent = timeString;
                startHourSelect.appendChild(option);
            }
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Å–æ–≤ —Å 7:00 –¥–æ 22:00 –¥–ª—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
            for (let hour = 7; hour <= 22; hour++) {
                const timeString = `${hour.toString().padStart(2, '0')}:00`;
                const option = document.createElement('option');
                option.value = hour;
                option.textContent = timeString;
                endHourSelect.appendChild(option);
            }
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            startHourSelect.value = 9;
            document.getElementById('meetingStartMinute').value = 0;
            endHourSelect.value = 10;
            document.getElementById('meetingEndMinute').value = 0;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function initDurationCalculator() {
            const updateDuration = () => {
                const startHour = parseInt(document.getElementById('meetingStartHour').value);
                const startMinute = parseInt(document.getElementById('meetingStartMinute').value);
                const endHour = parseInt(document.getElementById('meetingEndHour').value);
                const endMinute = parseInt(document.getElementById('meetingEndMinute').value);
                
                const startTotalMinutes = startHour * 60 + startMinute;
                const endTotalMinutes = endHour * 60 + endMinute;
                
                let durationMinutes = endTotalMinutes - startTotalMinutes;
                
                if (durationMinutes < 0) {
                    durationMinutes = 0;
                }
                
                const hours = Math.floor(durationMinutes / 60);
                const minutes = durationMinutes % 60;
                
                document.getElementById('durationDisplay').textContent = 
                    `–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ${hours} —á–∞—Å${hours !== 1 ? '–∞' : ''} ${minutes} –º–∏–Ω—É—Ç${minutes !== 1 ? '—ã' : ''}`;
            };
            
            // –°–ª—É—à–∞—Ç–µ–ª–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            ['meetingStartHour', 'meetingStartMinute', 'meetingEndHour', 'meetingEndMinute'].forEach(id => {
                document.getElementById(id).addEventListener('change', updateDuration);
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            updateDuration();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π
        function initEventListeners() {
            // –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            document.getElementById('saveBtn').addEventListener('click', saveDayData);
            document.getElementById('docxBtn').addEventListener('click', exportToDOCX);
            document.getElementById('clearBtn').addEventListener('click', clearDayData);
            document.getElementById('archiveBtn').addEventListener('click', showArchive);
            
            // –í—Å—Ç—Ä–µ—á–∏
            document.getElementById('addMeetingBtn').addEventListener('click', () => {
                document.getElementById('meetingModal').classList.remove('hidden');
            });
            
            document.getElementById('cancelMeetingBtn').addEventListener('click', () => {
                document.getElementById('meetingModal').classList.add('hidden');
                resetMeetingForm();
            });
            
            document.getElementById('saveMeetingBtn').addEventListener('click', saveMeeting);
            
            // –ó–∞–¥–∞—á–∏
            document.getElementById('addTaskBtn').addEventListener('click', addNewTask);
            document.getElementById('newTaskInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    addNewTask();
                }
            });
            
            // –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ - —á–µ–∫–±–æ–∫—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
            document.getElementById('mainTaskCompleted').addEventListener('change', function() {
                strategyTasks.mainTask.completed = this.checked;
                saveDayData();
                calculateProgress();
                updatePrintContent();
            });
            
            document.getElementById('frogTaskCompleted').addEventListener('change', function() {
                strategyTasks.frogTask.completed = this.checked;
                saveDayData();
                calculateProgress();
                updatePrintContent();
            });
            
            document.getElementById('elephantTaskCompleted').addEventListener('change', function() {
                strategyTasks.elephantTask.completed = this.checked;
                saveDayData();
                calculateProgress();
                updatePrintContent();
            });
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
            ['mainTask', 'frogTask', 'elephantTask', 'notes'].forEach(id => {
                document.getElementById(id).addEventListener('input', saveDayData);
            });
            
            // –ê—Ä—Ö–∏–≤
            document.getElementById('closeArchiveBtn').addEventListener('click', () => {
                document.getElementById('archiveModal').classList.add('hidden');
            });
            
            document.getElementById('archiveSearch').addEventListener('input', filterArchive);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è –∏–∑ LocalStorage
        function loadDayData() {
            const dateKey = getDateKey(currentDate);
            const savedData = localStorage.getItem(dateKey);
            
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    
                    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–Ω—è
                    document.getElementById('mainTask').value = data.mainTask || '';
                    document.getElementById('frogTask').value = data.frogTask || '';
                    document.getElementById('elephantTask').value = data.elephantTask || '';
                    
                    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
                    if (data.strategyTasks) {
                        strategyTasks = data.strategyTasks;
                        document.getElementById('mainTaskCompleted').checked = strategyTasks.mainTask.completed || false;
                        document.getElementById('frogTaskCompleted').checked = strategyTasks.frogTask.completed || false;
                        document.getElementById('elephantTaskCompleted').checked = strategyTasks.elephantTask.completed || false;
                    }
                    
                    // –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å—Ç—Ä–µ—á
                    meetings = data.meetings || [];
                    renderMeetings();
                    
                    // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á
                    tasks = data.tasks || [];
                    renderTasks();
                    
                    // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–º–µ—Ç–æ–∫
                    document.getElementById('notes').value = data.notes || '';
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –ø–µ—á–∞—Ç–∏
                    updatePrintContent();
                    
                    // –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                    calculateProgress();
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', e);
                    resetDayData();
                }
            } else {
                resetDayData();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è –≤ LocalStorage
        function saveDayData() {
            const dateKey = getDateKey(currentDate);
            
            const dayData = {
                mainTask: document.getElementById('mainTask').value,
                frogTask: document.getElementById('frogTask').value,
                elephantTask: document.getElementById('elephantTask').value,
                strategyTasks: strategyTasks,
                meetings: meetings,
                tasks: tasks,
                notes: document.getElementById('notes').value,
                savedAt: new Date().toISOString()
            };
            
            localStorage.setItem(dateKey, JSON.stringify(dayData));
            showNotification('–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', 'green');
        }

        // –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è
        function resetDayData() {
            meetings = [];
            tasks = [];
            strategyTasks = {
                mainTask: { completed: false },
                frogTask: { completed: false },
                elephantTask: { completed: false }
            };
            
            document.getElementById('mainTaskCompleted').checked = false;
            document.getElementById('frogTaskCompleted').checked = false;
            document.getElementById('elephantTaskCompleted').checked = false;
            
            renderMeetings();
            renderTasks();
            updatePrintContent();
            calculateProgress();
        }

        // –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è
        function clearDayData() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å?')) {
                resetDayData();
                document.getElementById('mainTask').value = '';
                document.getElementById('frogTask').value = '';
                document.getElementById('elephantTask').value = '';
                document.getElementById('notes').value = '';
                saveDayData();
                showNotification('–î–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã', 'yellow');
            }
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –¥–ª—è LocalStorage
        function getDateKey(date) {
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `day_${year}_${month}_${day}`;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á
        function renderMeetings() {
            const container = document.getElementById('meetingsContainer');
            container.innerHTML = '';
            
            // –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –≤—Å—Ç—Ä–µ—á
            meetings.forEach((meeting, index) => {
                addMeetingToTimeline(meeting, index);
            });
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω
        function addMeetingToTimeline(meeting, index) {
            const container = document.getElementById('meetingsContainer');
            
            const startHour = meeting.startHour;
            const startMinute = meeting.startMinute;
            const endHour = meeting.endHour;
            const endMinute = meeting.endMinute;
            
            const startTotalMinutes = startHour * 60 + startMinute;
            const endTotalMinutes = endHour * 60 + endMinute;
            const durationMinutes = endTotalMinutes - startTotalMinutes;
            
            if (durationMinutes <= 0) return;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –≤—Å—Ç—Ä–µ—á–∏
            const colors = [
                'bg-blue-100 border-blue-300 text-blue-800',
                'bg-green-100 border-green-300 text-green-800',
                'bg-purple-100 border-purple-300 text-purple-800',
                'bg-yellow-100 border-yellow-300 text-yellow-800',
                'bg-pink-100 border-pink-300 text-pink-800'
            ];
            const colorClass = colors[index % colors.length];
            const completedClass = meeting.completed ? 'meeting-completed' : '';
            
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –≤—Å—Ç—Ä–µ—á–∏
            const meetingElement = document.createElement('div');
            meetingElement.className = `meeting-block p-2 rounded border ${colorClass} ${completedClass}`;
            meetingElement.dataset.id = meeting.id;
            meetingElement.title = `${meeting.title} (${formatTime(startHour, startMinute)} - ${formatTime(endHour, endMinute)}) - ${meeting.completed ? '–í—ã–ø–æ–ª–Ω–µ–Ω–æ' : '–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ'}`;
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
            meetingElement.addEventListener('click', function(e) {
                if (!e.target.closest('.meeting-delete-btn')) {
                    toggleMeetingCompletion(meeting.id);
                }
            });
            
            // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –≤—Å—Ç—Ä–µ—á—É (60px –Ω–∞ –∫–∞–∂–¥—ã–π —á–∞—Å, 1px –Ω–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
            const startPosition = (startHour - 7) * 60 + startMinute;
            const height = durationMinutes;
            
            meetingElement.style.top = `${startPosition}px`;
            meetingElement.style.height = `${height}px`;
            
            // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤—Å—Ç—Ä–µ—á–∏
            const title = document.createElement('div');
            title.className = 'font-medium truncate text-xs';
            title.textContent = meeting.title;
            
            // –í—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏
            const time = document.createElement('div');
            time.className = 'text-xs opacity-75';
            time.textContent = `${formatTime(startHour, startMinute)}-${formatTime(endHour, endMinute)}`;
            
            // –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
            const status = document.createElement('div');
            status.className = 'text-xs mt-1';
            status.innerHTML = meeting.completed ? 
                '<span class="text-green-600">‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>' : 
                '<span class="text-gray-500">‚óã –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span>';
            
            // –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'meeting-delete-btn absolute top-1 right-1 text-gray-500 hover:text-red-600 no-print';
            deleteBtn.innerHTML = `
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            `;
            deleteBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                deleteMeeting(meeting.id);
            });
            
            meetingElement.appendChild(title);
            meetingElement.appendChild(time);
            meetingElement.appendChild(status);
            meetingElement.appendChild(deleteBtn);
            container.appendChild(meetingElement);
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function formatTime(hour, minute) {
            return `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
        }

        // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã –≤—Å—Ç—Ä–µ—á–∏
        function resetMeetingForm() {
            document.getElementById('meetingTitle').value = '';
            document.getElementById('meetingStartHour').value = 9;
            document.getElementById('meetingStartMinute').value = 0;
            document.getElementById('meetingEndHour').value = 10;
            document.getElementById('meetingEndMinute').value = 0;
            initDurationCalculator();
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏
        function saveMeeting() {
            const title = document.getElementById('meetingTitle').value.trim();
            const startHour = parseInt(document.getElementById('meetingStartHour').value);
            const startMinute = parseInt(document.getElementById('meetingStartMinute').value);
            const endHour = parseInt(document.getElementById('meetingEndHour').value);
            const endMinute = parseInt(document.getElementById('meetingEndMinute').value);
            
            if (!title) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏');
                return;
            }
            
            const startTotalMinutes = startHour * 60 + startMinute;
            const endTotalMinutes = endHour * 60 + endMinute;
            
            if (startTotalMinutes >= endTotalMinutes) {
                alert('–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–∑–∂–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –≤—Å—Ç—Ä–µ—á–∞–º–∏
            const hasConflict = meetings.some(meeting => {
                const meetingStart = meeting.startHour * 60 + meeting.startMinute;
                const meetingEnd = meeting.endHour * 60 + meeting.endMinute;
                
                return (startTotalMinutes < meetingEnd && endTotalMinutes > meetingStart);
            });
            
            if (hasConflict) {
                alert('–í—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å —É–∂–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤—Å—Ç—Ä–µ—á–µ–π');
                return;
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –≤—Å—Ç—Ä–µ—á–∏
            const meeting = {
                id: Date.now(),
                title: title,
                startHour: startHour,
                startMinute: startMinute,
                endHour: endHour,
                endMinute: endMinute,
                completed: false
            };
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏ –≤ –º–∞—Å—Å–∏–≤
            meetings.push(meeting);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            addMeetingToTimeline(meeting, meetings.length - 1);
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∏ —Å–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
            document.getElementById('meetingModal').classList.add('hidden');
            resetMeetingForm();
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            saveDayData();
            updatePrintContent();
            calculateProgress();
            
            showNotification('–í—Å—Ç—Ä–µ—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞', 'green');
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á–∏
        function toggleMeetingCompletion(id) {
            const meeting = meetings.find(m => m.id === id);
            if (meeting) {
                meeting.completed = !meeting.completed;
                renderMeetings();
                saveDayData();
                updatePrintContent();
                calculateProgress();
                showNotification(`–í—Å—Ç—Ä–µ—á–∞ ${meeting.completed ? '–æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è' : '—Å–Ω—è—Ç–∞ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è'}`, 'green');
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏
        function deleteMeeting(id) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –≤—Å—Ç—Ä–µ—á—É?')) {
                meetings = meetings.filter(meeting => meeting.id !== id);
                renderMeetings();
                saveDayData();
                updatePrintContent();
                calculateProgress();
                showNotification('–í—Å—Ç—Ä–µ—á–∞ —É–¥–∞–ª–µ–Ω–∞', 'red');
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á
        function renderTasks() {
            const container = document.getElementById('tasksContainer');
            container.innerHTML = '';
            
            if (tasks.length === 0) {
                const emptyState = document.createElement('div');
                emptyState.className = 'text-center py-4 text-gray-500';
                emptyState.textContent = '–ù–µ—Ç –∑–∞–¥–∞—á. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É!';
                container.appendChild(emptyState);
                return;
            }
            
            tasks.forEach((task, index) => {
                const taskElement = document.createElement('div');
                taskElement.className = `flex items-start p-2 bg-gray-50 rounded border border-gray-200 draggable ${task.completed ? 'opacity-75' : ''}`;
                taskElement.dataset.index = index;
                taskElement.draggable = true;
                
                // –ß–µ–∫–±–æ–∫—Å
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'mr-2 h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500 mt-1 flex-shrink-0';
                checkbox.checked = task.completed;
                checkbox.addEventListener('change', () => {
                    task.completed = checkbox.checked;
                    taskText.classList.toggle('completed-task', task.completed);
                    saveDayData();
                    updatePrintContent();
                    calculateProgress();
                });
                
                // –¢–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏
                const taskText = document.createElement('span');
                taskText.className = `flex-grow text-sm ${task.completed ? 'completed-task' : ''} break-words whitespace-normal`;
                taskText.textContent = task.text;
                taskText.addEventListener('dblclick', () => {
                    const newText = prompt('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É:', task.text);
                    if (newText !== null && newText.trim() !== '') {
                        task.text = newText.trim();
                        taskText.textContent = task.text;
                        saveDayData();
                        updatePrintContent();
                    }
                });
                
                // –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'ml-1 text-gray-400 hover:text-red-600 no-print flex-shrink-0';
                deleteBtn.innerHTML = `
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                    </svg>
                `;
                deleteBtn.addEventListener('click', () => {
                    deleteTask(index);
                });
                
                taskElement.appendChild(checkbox);
                taskElement.appendChild(taskText);
                taskElement.appendChild(deleteBtn);
                
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è Drag-and-drop
                taskElement.addEventListener('dragstart', handleDragStart);
                taskElement.addEventListener('dragover', handleDragOver);
                taskElement.addEventListener('drop', handleDrop);
                taskElement.addEventListener('dragend', handleDragEnd);
                
                container.appendChild(taskElement);
            });
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
        function addNewTask() {
            const input = document.getElementById('newTaskInput');
            const text = input.value.trim();
            
            if (!text) {
                alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏');
                return;
            }
            
            tasks.push({
                text: text,
                completed: false,
                createdAt: new Date().toISOString()
            });
            
            input.value = '';
            renderTasks();
            saveDayData();
            updatePrintContent();
            calculateProgress();
            showNotification('–ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞', 'green');
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
        function deleteTask(index) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É?')) {
                tasks.splice(index, 1);
                renderTasks();
                saveDayData();
                updatePrintContent();
                calculateProgress();
                showNotification('–ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞', 'red');
            }
        }

        // Drag-and-drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∑–∞–¥–∞—á
        function handleDragStart(e) {
            draggingTask = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDrop(e) {
            e.preventDefault();
            if (draggingTask !== this) {
                const fromIndex = parseInt(draggingTask.dataset.index);
                const toIndex = parseInt(this.dataset.index);
                
                // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ –º–∞—Å—Å–∏–≤–µ
                const [movedTask] = tasks.splice(fromIndex, 1);
                tasks.splice(toIndex, 0, movedTask);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                renderTasks();
                saveDayData();
                updatePrintContent();
            }
        }

        function handleDragEnd() {
            this.classList.remove('dragging');
            draggingTask = null;
        }

        // –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        function calculateProgress() {
            // –ü–æ–¥—Å—á–µ—Ç –≤—Å–µ—Ö –∑–∞–¥–∞—á
            const totalTasks = 
                (document.getElementById('mainTask').value ? 1 : 0) +
                (document.getElementById('frogTask').value ? 1 : 0) +
                (document.getElementById('elephantTask').value ? 1 : 0) +
                meetings.length +
                tasks.length;
            
            // –ü–æ–¥—Å—á–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
            let completedTasks = 0;
            
            // –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
            if (document.getElementById('mainTask').value && strategyTasks.mainTask.completed) completedTasks++;
            if (document.getElementById('frogTask').value && strategyTasks.frogTask.completed) completedTasks++;
            if (document.getElementById('elephantTask').value && strategyTasks.elephantTask.completed) completedTasks++;
            
            // –ñ–µ—Å—Ç–∫–∏–µ –≤—Å—Ç—Ä–µ—á–∏
            completedTasks += meetings.filter(m => m.completed).length;
            
            // –ì–∏–±–∫–∏–µ –∑–∞–¥–∞—á–∏
            completedTasks += tasks.filter(t => t.completed).length;
            
            // –†–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞
            const percent = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            document.getElementById('progressPercent').textContent = `${percent}%`;
            document.getElementById('progressFill').style.width = `${percent}%`;
            document.getElementById('progressText').textContent = `–í—ã–ø–æ–ª–Ω–µ–Ω–æ ${completedTasks} –∏–∑ ${totalTasks} –∑–∞–¥–∞—á`;
            
            return { totalTasks, completedTasks, percent };
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –ø–µ—á–∞—Ç–∏
        function updatePrintContent() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞—Ç—É
            document.getElementById('printDate').textContent = document.getElementById('currentDate').textContent;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
            document.getElementById('printMainTask').textContent = document.getElementById('mainTask').value || '';
            document.getElementById('printFrogTask').textContent = document.getElementById('frogTask').value || '';
            document.getElementById('printElephantTask').textContent = document.getElementById('elephantTask').value || '';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
            document.getElementById('printMainTaskStatus').textContent = strategyTasks.mainTask.completed ? '[‚úì]' : '[ ]';
            document.getElementById('printFrogTaskStatus').textContent = strategyTasks.frogTask.completed ? '[‚úì]' : '[ ]';
            document.getElementById('printElephantTaskStatus').textContent = strategyTasks.elephantTask.completed ? '[‚úì]' : '[ ]';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å—Ç—Ä–µ—á –¥–ª—è –ø–µ—á–∞—Ç–∏
            const meetingsList = document.getElementById('printMeetingsList');
            meetingsList.innerHTML = '';
            
            if (meetings.length === 0) {
                meetingsList.innerHTML = '<div class="meeting-item">–ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á</div>';
            } else {
                meetings.sort((a, b) => {
                    const aTime = a.startHour * 60 + a.startMinute;
                    const bTime = b.startHour * 60 + b.startMinute;
                    return aTime - bTime;
                });
                
                meetings.forEach(meeting => {
                    const meetingItem = document.createElement('div');
                    meetingItem.className = 'meeting-item';
                    meetingItem.innerHTML = `
                        <span class="meeting-time">${formatTime(meeting.startHour, meeting.startMinute)}-${formatTime(meeting.endHour, meeting.endMinute)}</span>
                        <span>${meeting.title} ${meeting.completed ? '‚úì' : '‚óã'}</span>
                    `;
                    meetingsList.appendChild(meetingItem);
                });
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è –ø–µ—á–∞—Ç–∏
            const tasksList = document.getElementById('printTasksList');
            tasksList.innerHTML = '';
            
            if (tasks.length === 0) {
                tasksList.innerHTML = '<div class="task-item">–ù–µ—Ç –∑–∞–¥–∞—á</div>';
            } else {
                tasks.forEach(task => {
                    const taskItem = document.createElement('div');
                    taskItem.className = 'task-item';
                    taskItem.innerHTML = `<span>${task.completed ? '‚úì' : '‚óã'} ${task.text}</span>`;
                    tasksList.appendChild(taskItem);
                });
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–º–µ—Ç–∫–∏
            document.getElementById('printNotes').textContent = document.getElementById('notes').value || '';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            const progress = calculateProgress();
            document.getElementById('printProgressText').textContent = 
                `–í—ã–ø–æ–ª–Ω–µ–Ω–æ ${progress.completedTasks} –∏–∑ ${progress.totalTasks} –∑–∞–¥–∞—á (${progress.percent}%)`;
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –≤ DOCX (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
        function exportToDOCX() {
            updatePrintContent();
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—Ä–µ–º—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            const formatMeetingTime = (meeting) => {
                return `${formatTime(meeting.startHour, meeting.startMinute)}-${formatTime(meeting.endHour, meeting.endMinute)}`;
            };
            
            // –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å —Ç–æ—á–Ω–æ–π –∫–æ–ø–∏–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–µ–±-–≤–µ—Ä—Å–∏–∏
            const exportHtml = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>–ü–ª–∞–Ω –¥–Ω—è ${getDateKey(currentDate)}</title>
                    <style>
                        /* –°—Ç–∏–ª–∏, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ –≤–µ–±-–≤–µ—Ä—Å–∏—é */
                        * {
                            font-family: 'Inter', Arial, sans-serif;
                            box-sizing: border-box;
                        }
                        
                        body {
                            margin: 0;
                            padding: 20px;
                            background-color: #f9fafb;
                            color: #374151;
                        }
                        
                        .container {
                            max-width: 1200px;
                            margin: 0 auto;
                        }
                        
                        .header {
                            background-color: white;
                            border-radius: 12px;
                            padding: 24px;
                            margin-bottom: 24px;
                            border: 1px solid #e5e7eb;
                            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
                        }
                        
                        .title {
                            font-size: 28px;
                            font-weight: bold;
                            color: #111827;
                            margin-bottom: 8px;
                            text-align: center;
                        }
                        
                        .date {
                            font-size: 18px;
                            color: #059669;
                            font-weight: 600;
                            text-align: center;
                            margin-bottom: 24px;
                        }
                        
                        .section-title {
                            font-size: 20px;
                            font-weight: bold;
                            color: #374151;
                            margin-bottom: 16px;
                        }
                        
                        .strategy-grid {
                            display: grid;
                            grid-template-columns: repeat(3, 1fr);
                            gap: 16px;
                            margin-bottom: 24px;
                        }
                        
                        .strategy-block {
                            background-color: white;
                            border-radius: 8px;
                            padding: 20px;
                            border: 1px solid #e5e7eb;
                            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
                        }
                        
                        .strategy-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 12px;
                            border-bottom: 2px solid #d1fae5;
                            padding-bottom: 8px;
                        }
                        
                        .strategy-name {
                            font-size: 18px;
                            font-weight: 600;
                            color: #111827;
                        }
                        
                        .strategy-status {
                            font-size: 14px;
                            font-weight: 500;
                            color: ${strategyTasks.mainTask.completed ? '#10b981' : '#6b7280'};
                        }
                        
                        .strategy-content {
                            font-size: 14px;
                            line-height: 1.5;
                            color: #4b5563;
                            min-height: 60px;
                            white-space: pre-wrap;
                        }
                        
                        .timeline-grid {
                            display: grid;
                            grid-template-columns: repeat(2, 1fr);
                            gap: 16px;
                            margin-bottom: 24px;
                        }
                        
                        .timeline-col {
                            background-color: white;
                            border-radius: 8px;
                            padding: 20px;
                            border: 1px solid #e5e7eb;
                            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
                        }
                        
                        .col-title {
                            font-size: 18px;
                            font-weight: 600;
                            color: #111827;
                            margin-bottom: 16px;
                            padding-bottom: 8px;
                            border-bottom: 2px solid #d1fae5;
                        }
                        
                        .meeting-item, .task-item {
                            padding: 8px 0;
                            border-bottom: 1px dashed #e5e7eb;
                            font-size: 14px;
                        }
                        
                        .meeting-time {
                            font-weight: 600;
                            color: #111827;
                            margin-right: 8px;
                        }
                        
                        .status-icon {
                            display: inline-block;
                            width: 16px;
                            text-align: center;
                            margin-right: 4px;
                        }
                        
                        .completed {
                            color: #10b981;
                        }
                        
                        .not-completed {
                            color: #9ca3af;
                        }
                        
                        .notes-block {
                            background-color: white;
                            border-radius: 8px;
                            padding: 20px;
                            border: 1px solid #e5e7eb;
                            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
                            margin-bottom: 24px;
                        }
                        
                        .notes-title {
                            font-size: 18px;
                            font-weight: 600;
                            color: #111827;
                            margin-bottom: 12px;
                        }
                        
                        .notes-content {
                            font-size: 14px;
                            line-height: 1.5;
                            color: #4b5563;
                            white-space: pre-wrap;
                            min-height: 80px;
                        }
                        
                        .progress-block {
                            background-color: white;
                            border-radius: 8px;
                            padding: 16px;
                            border: 1px solid #e5e7eb;
                            text-align: center;
                            font-size: 14px;
                            color: #6b7280;
                        }
                        
                        .progress-percent {
                            font-weight: 700;
                            color: #059669;
                            font-size: 16px;
                        }
                        
                        /* –¶–≤–µ—Ç–∞ –¥–ª—è –±–ª–æ–∫–æ–≤ –≤—Å—Ç—Ä–µ—á (–∫–∞–∫ –≤ –≤–µ–±-–≤–µ—Ä—Å–∏–∏) */
                        .meeting-color-0 { color: #1e40af; }
                        .meeting-color-1 { color: #065f46; }
                        .meeting-color-2 { color: #5b21b6; }
                        .meeting-color-3 { color: #92400e; }
                        .meeting-color-4 { color: #831843; }
                        
                        .task-text {
                            margin-left: 4px;
                        }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <div class="header">
                            <div class="title">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω—è | –ú–µ—Ç–æ–¥ –ì–ª–µ–±–∞ –ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–æ–≥–æ</div>
                            <div class="date">${document.getElementById('currentDate').textContent}</div>
                        </div>
                        
                        <div class="section-title">–°–¢–†–ê–¢–ï–ì–ò–Ø –î–ù–Ø</div>
                        <div class="strategy-grid">
                            <!-- –î–µ–ª–æ –¥–Ω—è -->
                            <div class="strategy-block">
                                <div class="strategy-header">
                                    <div class="strategy-name">üéØ –î–ï–õ–û –î–ù–Ø</div>
                                    <div class="strategy-status">${strategyTasks.mainTask.completed ? '‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ' : '‚óã –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ'}</div>
                                </div>
                                <div class="strategy-content">${document.getElementById('mainTask').value || ''}</div>
                            </div>
                            
                            <!-- –õ—è–≥—É—à–∫–∞ -->
                            <div class="strategy-block">
                                <div class="strategy-header">
                                    <div class="strategy-name">üê∏ –õ–Ø–ì–£–®–ö–ê</div>
                                    <div class="strategy-status">${strategyTasks.frogTask.completed ? '‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ' : '‚óã –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ'}</div>
                                </div>
                                <div class="strategy-content">${document.getElementById('frogTask').value || ''}</div>
                            </div>
                            
                            <!-- –°–ª–æ–Ω -->
                            <div class="strategy-block">
                                <div class="strategy-header">
                                    <div class="strategy-name">üêò –°–õ–û–ù</div>
                                    <div class="strategy-status">${strategyTasks.elephantTask.completed ? '‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ' : '‚óã –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ'}</div>
                                </div>
                                <div class="strategy-content">${document.getElementById('elephantTask').value || ''}</div>
                            </div>
                        </div>
                        
                        <div class="section-title">–¢–ê–ô–ú–õ–ê–ô–ù –î–ù–Ø</div>
                        <div class="timeline-grid">
                            <!-- –ñ–µ—Å—Ç–∫–∏–µ –≤—Å—Ç—Ä–µ—á–∏ -->
                            <div class="timeline-col">
                                <div class="col-title">–ñ–ï–°–¢–ö–ò–ï –í–°–¢–†–ï–ß–ò (07:00-21:00)</div>
                                ${meetings.length > 0 ? 
                                    meetings.sort((a, b) => {
                                        const aTime = a.startHour * 60 + a.startMinute;
                                        const bTime = b.startHour * 60 + b.startMinute;
                                        return aTime - bTime;
                                    }).map((meeting, index) => `
                                        <div class="meeting-item">
                                            <span class="meeting-time meeting-color-${index % 5}">${formatMeetingTime(meeting)}</span>
                                            <span class="status-icon ${meeting.completed ? 'completed' : 'not-completed'}">${meeting.completed ? '‚úì' : '‚óã'}</span>
                                            <span>${meeting.title}</span>
                                        </div>
                                    `).join('') : 
                                    '<div class="meeting-item">–ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á</div>'
                                }
                            </div>
                            
                            <!-- –ì–∏–±–∫–∏–µ –∑–∞–¥–∞—á–∏ -->
                            <div class="timeline-col">
                                <div class="col-title">–ì–ò–ë–ö–ò–ï –ó–ê–î–ê–ß–ò</div>
                                ${tasks.length > 0 ? 
                                    tasks.map((task, index) => `
                                        <div class="task-item">
                                            <span class="status-icon ${task.completed ? 'completed' : 'not-completed'}">${task.completed ? '‚úì' : '‚óã'}</span>
                                            <span class="task-text">${task.text}</span>
                                        </div>
                                    `).join('') : 
                                    '<div class="task-item">–ù–µ—Ç –∑–∞–¥–∞—á</div>'
                                }
                            </div>
                        </div>
                        
                        <div class="notes-block">
                            <div class="notes-title">–ó–ê–ú–ï–¢–ö–ò / –ò–¢–û–ì–ò –î–ù–Ø</div>
                            <div class="notes-content">${document.getElementById('notes').value || ''}</div>
                        </div>
                        
                        <div class="progress-block">
                            <span>–ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: </span>
                            <span class="progress-percent">${document.getElementById('progressPercent').textContent}</span>
                            <span> (${document.getElementById('progressText').textContent})</span>
                        </div>
                    </div>
                </body>
                </html>
            `;
            
            // –°–æ–∑–¥–∞–µ–º Blob –∏ —Å–∫–∞—á–∏–≤–∞–µ–º
            const blob = new Blob([exportHtml], { type: 'application/msword' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `–ü–ª–∞–Ω_–¥–Ω—è_${getDateKey(currentDate)}.doc`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('–î–æ–∫—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ Word', 'blue');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∞—Ä—Ö–∏–≤
        function showArchive() {
            document.getElementById('archiveModal').classList.remove('hidden');
            loadArchive();
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–∞
        function loadArchive() {
            const archiveList = document.getElementById('archiveList');
            archiveList.innerHTML = '';
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–ª—é—á–µ–π –∏–∑ LocalStorage
            const archiveItems = [];
            
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                
                if (key.startsWith('day_')) {
                    try {
                        const data = JSON.parse(localStorage.getItem(key));
                        archiveItems.push({
                            key: key,
                            date: key.replace('day_', '').replace(/_/g, '.'),
                            savedAt: new Date(data.savedAt),
                            mainTask: data.mainTask
                        });
                    } catch (e) {
                        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∞—Ä—Ö–∏–≤–∞:', e);
                    }
                }
            }
            
            // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
            archiveItems.sort((a, b) => b.savedAt - a.savedAt);
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
            if (archiveItems.length === 0) {
                archiveList.innerHTML = '<div class="text-center py-8 text-gray-500">–ê—Ä—Ö–∏–≤ –ø—É—Å—Ç</div>';
                return;
            }
            
            archiveItems.forEach(item => {
                const archiveItem = document.createElement('div');
                archiveItem.className = 'flex items-center justify-between p-3 border-b border-gray-200 hover:bg-gray-50';
                
                const itemContent = document.createElement('div');
                itemContent.className = 'flex-grow';
                
                const dateElement = document.createElement('div');
                dateElement.className = 'font-medium text-gray-800';
                dateElement.textContent = item.date;
                
                const taskElement = document.createElement('div');
                taskElement.className = 'text-sm text-gray-600 truncate max-w-md';
                taskElement.textContent = item.mainTask || '–ù–µ—Ç –≥–ª–∞–≤–Ω–æ–π –∑–∞–¥–∞—á–∏';
                
                const actionsElement = document.createElement('div');
                actionsElement.className = 'flex space-x-2';
                
                const loadButton = document.createElement('button');
                loadButton.className = 'px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded hover:bg-green-200';
                loadButton.textContent = '–ó–∞–≥—Ä—É–∑–∏—Ç—å';
                loadButton.addEventListener('click', () => {
                    loadArchiveDay(item.key);
                });
                
                const deleteButton = document.createElement('button');
                deleteButton.className = 'px-3 py-1 bg-red-100 text-red-700 text-sm font-medium rounded hover:bg-red-200';
                deleteButton.textContent = '–£–¥–∞–ª–∏—Ç—å';
                deleteButton.addEventListener('click', () => {
                    deleteArchiveDay(item.key);
                });
                
                itemContent.appendChild(dateElement);
                itemContent.appendChild(taskElement);
                actionsElement.appendChild(loadButton);
                actionsElement.appendChild(deleteButton);
                
                archiveItem.appendChild(itemContent);
                archiveItem.appendChild(actionsElement);
                archiveList.appendChild(archiveItem);
            });
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞—Ä—Ö–∏–≤–∞
        function filterArchive() {
            const searchTerm = document.getElementById('archiveSearch').value.toLowerCase();
            const items = document.querySelectorAll('#archiveList > div');
            
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–Ω—è –∏–∑ –∞—Ä—Ö–∏–≤–∞
        function loadArchiveDay(key) {
            if (confirm('–ó–∞–≥—Ä—É–∑–∏—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å? –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.')) {
                const dateParts = key.replace('day_', '').split('_');
                const year = parseInt(dateParts[0]);
                const month = parseInt(dateParts[1]) - 1;
                const day = parseInt(dateParts[2]);
                
                currentDate = new Date(year, month, day);
                document.getElementById('datePicker').valueAsDate = currentDate;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞—Ç—ã
                const weekdays = ['–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ', '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', '–í—Ç–æ—Ä–Ω–∏–∫', '–°—Ä–µ–¥–∞', '–ß–µ—Ç–≤–µ—Ä–≥', '–ü—è—Ç–Ω–∏—Ü–∞', '–°—É–±–±–æ—Ç–∞'];
                const weekday = weekdays[currentDate.getDay()];
                const formattedDate = `${weekday}, ${day.toString().padStart(2, '0')}.${(month + 1).toString().padStart(2, '0')}.${year}`;
                
                document.getElementById('currentDate').textContent = formattedDate;
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
                loadDayData();
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –∞—Ä—Ö–∏–≤–∞
                document.getElementById('archiveModal').classList.add('hidden');
                
                showNotification('–î–µ–Ω—å –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ –∞—Ä—Ö–∏–≤–∞', 'green');
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –¥–Ω—è –∏–∑ –∞—Ä—Ö–∏–≤–∞
        function deleteArchiveDay(key) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –∏–∑ –∞—Ä—Ö–∏–≤–∞?')) {
                localStorage.removeItem(key);
                loadArchive();
                showNotification('–î–µ–Ω—å —É–¥–∞–ª–µ–Ω –∏–∑ –∞—Ä—Ö–∏–≤–∞', 'red');
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message, color) {
            // –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 px-4 py-3 rounded-lg shadow-lg text-white font-medium z-50 no-print`;
            
            switch(color) {
                case 'green':
                    notification.classList.add('bg-green-600');
                    break;
                case 'red':
                    notification.classList.add('bg-red-600');
                    break;
                case 'blue':
                    notification.classList.add('bg-blue-600');
                    break;
                case 'yellow':
                    notification.classList.add('bg-yellow-600');
                    break;
                default:
                    notification.classList.add('bg-gray-800');
            }
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>
</body>
</html>
